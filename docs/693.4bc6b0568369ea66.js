"use strict";(self.webpackChunkcupcake_store=self.webpackChunkcupcake_store||[]).push([[693],{8693:(D,u,r)=>{r.r(u),r.d(u,{CardapioModule:()=>$});var l=r(177),p=r(8426),a=function(e){return e.ADD="Adicionar",e.REMOVE="Remover",e}(a||{}),t=r(540),m=r(2575),f=r(8542),g=r(5779),h=r(1141),v=r(6150),b=r(1559),C=r(2242),F=r(1648);function j(e,d){1&e&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Nome"),t.k0s(),t.nrm(3,"th"),t.j41(4,"th"),t.EFF(5,"C\xf3digo"),t.k0s(),t.j41(6,"th"),t.EFF(7,"Pre\xe7o"),t.k0s(),t.j41(8,"th"),t.EFF(9,"Descri\xe7\xe3o"),t.k0s(),t.j41(10,"th"),t.EFF(11,"Quantidade"),t.k0s(),t.j41(12,"th"),t.EFF(13,"Adicionar"),t.k0s()())}function k(e,d){if(1&e){const i=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.nrm(4,"img",20),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.nI1(9,"currency"),t.k0s(),t.j41(10,"td"),t.EFF(11),t.k0s(),t.j41(12,"td"),t.EFF(13),t.k0s(),t.j41(14,"td")(15,"div",21)(16,"button",22),t.bIt("click",function(){const s=t.eBV(i).$implicit,c=t.XpG();return t.Njj(c.adicionarProduto(s))}),t.k0s(),t.j41(17,"button",23),t.bIt("click",function(){const s=t.eBV(i).$implicit,c=t.XpG();return t.Njj(c.removerProduto(s))}),t.k0s()()()()}if(2&e){const i=d.$implicit;t.R7$(2),t.JRh(i.name),t.R7$(2),t.Y8G("src",i.image,t.B4B)("alt",i.name),t.R7$(2),t.JRh(i.code),t.R7$(2),t.JRh(t.i5U(9,7,i.price,"BRL")),t.R7$(3),t.JRh(i.description),t.R7$(2),t.JRh(i.quantity)}}function y(e,d){if(1&e&&(t.j41(0,"div",21),t.EFF(1),t.k0s()),2&e){const i=t.XpG();t.R7$(1),t.SpI(" In total there are ",i.products?i.products.length:0," products. ")}}const E=function(){return{icon:"pi pi-home",routerLink:"/"}},R=function(){return{label:"Card\xe1pio"}},B=function(e,d){return[e,d]},I=function(){return{"min-width":"60rem"}},P=[{path:"",component:(()=>{class e{constructor(i,o){this.productService=i,this.router=o,this.badgeValue="0",this.pedido={},this.isButtonDisabled=!0}ngOnInit(){this.getProducts()}getProducts(){this.productService.getProducts().subscribe(o=>{this.products=o,this.products=o.map(n=>(n.image=`assets/images/${n.image}`,n))})}removerProduto(i){this.removerProdutoPorId(i.id),this.updateProductQuantityById(i.id,a.REMOVE),"0"!==this.badgeValue&&this.updateBadgeValue(),this.handleButtonFinalizarCompra()}updateProductQuantityById(i,o){const n=this.findProductById(i);let s=n?.quantity?n?.quantity:0;o===a.ADD&&(n.quantity=s+=1),o===a.REMOVE&&n.quantity>0&&(n.quantity=s-=1)}findProductById(i){return this.products.find(o=>o.id===i)}updateBadgeValue(){this.badgeValue=this.pedido.produtos?.length.toString()}removerProdutoPorId(i){const o=this.pedido.produtos?.findIndex(n=>n.id===i);void 0!==o&&-1!==o&&this.pedido?.produtos?.splice(o,1)}adicionarProduto(i){this.pedido.produtos||(this.pedido.produtos=[]),this.pedido.produtos.push(i),this.updateProductQuantityById(i.id,a.ADD),this.updateBadgeValue(),this.handleButtonFinalizarCompra()}finalizarPedido(){localStorage.setItem("pedido",JSON.stringify(this.pedido)),localStorage.setItem("badgeValue",this.badgeValue),this.router.navigate(["/carrinho"])}handleButtonFinalizarCompra(){this.isButtonDisabled=!(this.pedido.produtos?.length>0)}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(m.b),t.rXU(p.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["cardapio"]],decls:23,vars:11,consts:[[1,"custom-main-card"],[1,"mt-4"],[3,"items"],[1,"flex","align-items-center","justify-content-between","mt-5"],[1,"w-5"],[1,"w-4","flex","justify-content-between","align-items-center"],[1,"pi","pi-shopping-cart",2,"font-size","1.5rem"],[3,"value"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["disabled","","type","text","pInputText",""],[1,"pi","pi-question-circle",2,"font-size","2rem"],[1,"w-2","align-items-end"],["label","Finalizar Pedido",3,"disabled","click"],[1,"flex","justify-content-end"],["routerLink","/home","pTooltip","Sair",1,"pi","pi-sign-out","cursor-pointer",2,"font-size","2rem"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["width","100",1,"shadow-4",3,"src","alt"],[1,"flex","align-items-center","justify-content-between"],["pTooltip","Adicionar cupcake","pButton","","pRipple","","icon","pi pi-cart-plus",1,"p-button-success",3,"click"],["pTooltip","Remover cupcake","pButton","","pRipple","","icon","pi pi-cart-minus",1,"p-button-danger","ml-2",3,"click"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"app-breadcrumb",2),t.k0s(),t.j41(3,"div",3)(4,"div",4)(5,"h1"),t.EFF(6,"Card\xe1pio"),t.k0s()(),t.j41(7,"div",5)(8,"span",6),t.nrm(9,"p-badge",7),t.k0s(),t.j41(10,"span",8),t.nrm(11,"i",9)(12,"input",10),t.k0s(),t.nrm(13,"span",11),t.k0s(),t.j41(14,"div",12)(15,"p-button",13),t.bIt("click",function(){return n.finalizarPedido()}),t.k0s()(),t.j41(16,"div",14),t.nrm(17,"span",15),t.k0s()(),t.j41(18,"div",1)(19,"p-table",16),t.DNE(20,j,14,0,"ng-template",17),t.DNE(21,k,18,10,"ng-template",18),t.DNE(22,y,2,1,"ng-template",19),t.k0s()()()),2&o&&(t.R7$(2),t.Y8G("items",t.l_i(7,B,t.lJ4(5,E),t.lJ4(6,R))),t.R7$(7),t.Y8G("value",n.badgeValue),t.R7$(6),t.Y8G("disabled",n.isButtonDisabled),t.R7$(4),t.Y8G("value",n.products)("tableStyle",t.lJ4(10,I)))},dependencies:[p.Wk,f.m,g.Ei,h._f,h.$n,v.Ex,b.XI,C.S,F.D,l.oe],styles:[".custom-main-card[_ngcontent-%COMP%]{width:1170px;background:#ffffff;border-radius:15px;padding:30px}"]})}}return e})()}];let x=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[p.iI.forChild(P),p.iI]})}}return e})(),$=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({providers:[m.b],imports:[l.MD,x]})}}return e})()}}]);